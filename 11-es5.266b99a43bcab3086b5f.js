!function(){function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var c=o(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{ziUY:function(e,i,o){"use strict";o.r(i),o.d(i,"MainFormPageModule",(function(){return V}));var c=o("ofXK"),s=o("3Pt+"),a=o("TEn/"),b=o("tyNb"),l=o("fXoL"),f=o("F57X"),p=o("mrSG"),h=o("xgIS"),v=o("eIep"),d=o("zx2A");function m(t){return function(e){return e.lift(new g(t))}}var g=function(){function t(e){r(this,t),this.notifier=e}return u(t,[{key:"call",value:function(t,e){var n=new y(t),i=Object(d.c)(this.notifier,new d.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),y=function(e){t(o,e);var i=n(o);function o(t){var e;return r(this,o),(e=i.call(this,t)).seenValue=!1,e}return u(o,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),o}(d.b),w=o("7o/Q");function k(){return function(t){return t.lift(new C)}}var J,K,x,S,O,C=function(){function t(){r(this,t)}return u(t,[{key:"call",value:function(t,e){return e.subscribe(new I(t))}}]),t}(),I=function(e){t(o,e);var i=n(o);function o(t){var e;return r(this,o),(e=i.call(this,t)).hasPrev=!1,e}return u(o,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),o}(w.a),j=((J=function(){function t(){r(this,t),this.signature=null}return u(t,[{key:"saveSignature",value:function(t){this.signature=t}},{key:"getSignature",value:function(){return this.signature}},{key:"clearSig",value:function(){this.signature=null}}]),t}()).\u0275fac=function(t){return new(t||J)},J.\u0275prov=l.Db({token:J,factory:J.\u0275fac,providedIn:"root"}),J),F=["canvas"],P=((O=function(){function t(e,n){r(this,t),this.signatureService=e,this.popoverController=n,this.checkFlag=!1}return u(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this.canvas.nativeElement;this.cx=e.getContext("2d"),e.width=this.width,e.height=this.height,setTimeout((function(){t.drawSavedSignatureOnCanvas()})),this.cx.lineWidth=2,this.cx.lineCap="round",this.cx.strokeStyle="black",this.captureEvents(e)}},{key:"saveSig",value:function(){var t=this.canvas.nativeElement.toDataURL("image/png",1);this.popoverController.dismiss(t)}},{key:"clearSig",value:function(){this.checkFlag=!1,this.signatureService.clearSig(),this.cx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)}},{key:"drawSavedSignatureOnCanvas",value:function(){var t=this.signatureService.getSignature();if(null!==t){this.checkFlag=!0;var e=this.cx,n=new Image;n.src=t,n.onload=function(){e.drawImage(n,0,0)}}}},{key:"captureEvents",value:function(t){var e=this;Object(h.a)(t,"mousedown").pipe(Object(v.a)((function(){return Object(h.a)(t,"mousemove").pipe(m(Object(h.a)(t,"mouseup")),m(Object(h.a)(t,"mouseleave")),k())}))).subscribe((function(n){var i=t.getBoundingClientRect();e.drawOnCanvas({x:n[0].clientX-i.left,y:n[0].clientY-i.top},{x:n[1].clientX-i.left,y:n[1].clientY-i.top})})),Object(h.a)(t,"touchstart").pipe(Object(v.a)((function(){return Object(h.a)(t,"touchmove").pipe(m(Object(h.a)(t,"touchend")),m(Object(h.a)(t,"touchcancel")),k())}))).subscribe((function(n){var i=t.getBoundingClientRect();e.drawOnCanvas({x:n[0].targetTouches[0].clientX-i.left,y:n[0].targetTouches[0].clientY-i.top},{x:n[1].targetTouches[0].clientX-i.left,y:n[1].targetTouches[0].clientY-i.top})}))}},{key:"drawOnCanvas",value:function(t,e){this.cx&&(this.cx.beginPath(),t&&(this.cx.moveTo(t.x,t.y),this.cx.lineTo(e.x,e.y),this.cx.stroke()),this.checkFlag=!0)}}]),t}()).\u0275fac=function(t){return new(t||O)(l.Hb(j),l.Hb(a.u))},O.\u0275cmp=l.Bb({type:O,selectors:[["app-signature"]],viewQuery:function(t,e){var n;1&t&&l.dc(F,!0),2&t&&l.Xb(n=l.Sb())&&(e.canvas=n.first)},inputs:{width:"width",height:"height"},decls:7,vars:2,consts:[["canvas",""],[1,"flex-class"],["color","danger",3,"disabled","click"],[3,"disabled","click"]],template:function(t,e){1&t&&(l.Ib(0,"canvas",null,0),l.Kb(2,"div",1),l.Kb(3,"ion-button",2),l.Rb("click",(function(){return e.clearSig()})),l.bc(4," \u05e0\u05e7\u05d4\n"),l.Jb(),l.Kb(5,"ion-button",3),l.Rb("click",(function(){return e.saveSig()})),l.bc(6," \u05e9\u05de\u05d5\u05e8 "),l.Jb(),l.Jb()),2&t&&(l.xb(3),l.Wb("disabled",!e.checkFlag),l.xb(2),l.Wb("disabled",!e.checkFlag))},directives:[a.d],styles:["canvas[_ngcontent-%COMP%]{background-color:#fff}.flex-class[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),O),R=((S=function(){function t(e,n){r(this,t),this.signatureService=e,this.popoverController=n,this.buttonColor="warning"}return u(t,[{key:"presentPopover",value:function(t){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popoverController.create({component:P,cssClass:"my-custom-class",event:t,translucent:!0,backdropDismiss:!1,componentProps:{width:250,height:204}});case 2:return(n=e.sent).onDidDismiss().then((function(t){void 0!==t.data&&(i.buttonColor="success",i.signatureService.saveSignature(t.data))})),e.next=6,n.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||S)(l.Hb(j),l.Hb(a.u))},S.\u0275cmp=l.Bb({type:S,selectors:[["app-sig-pop"]],decls:2,vars:1,consts:[[3,"color","click"]],template:function(t,e){1&t&&(l.Kb(0,"ion-button",0),l.Rb("click",(function(t){return e.presentPopover(t)})),l.bc(1,"\u05d7\u05ea\u05d9\u05de\u05d4"),l.Jb()),2&t&&l.Wb("color",e.buttonColor)},directives:[a.d],styles:[""]}),S),E=((x=function(){function t(e){r(this,t),this.userService=e,this.studentForm=new s.c({id:new s.a({value:"",disabled:!0}),name:new s.a({value:"",disabled:!0})})}return u(t,[{key:"ngOnInit",value:function(){this.setForm(this.studentForm,this.student)}},{key:"setForm",value:function(t,e){t.get("id").setValue(e.id),t.get("name").setValue("".concat(e.firstName," ").concat(e.lastName))}},{key:"submitStudentForm",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||x)(l.Hb(f.a))},x.\u0275cmp=l.Bb({type:x,selectors:[["app-form-student"]],inputs:{student:"student"},decls:48,vars:1,consts:[[3,"formGroup","ngSubmit"],["formControlName","id"],["formControlName","name"],["type","submit"]],template:function(t,e){1&t&&(l.Kb(0,"form",0),l.Rb("ngSubmit",(function(){return e.submitStudentForm()})),l.Kb(1,"ion-grid"),l.Kb(2,"ion-row"),l.Kb(3,"ion-col"),l.Kb(4,"ion-item"),l.Kb(5,"ion-label"),l.bc(6,"\u05ea.\u05d6:"),l.Jb(),l.Ib(7,"ion-input",1),l.Jb(),l.Jb(),l.Kb(8,"ion-col"),l.Kb(9,"ion-item"),l.Kb(10,"ion-label"),l.bc(11,"\u05e9\u05dd:"),l.Jb(),l.Ib(12,"ion-input",2),l.Jb(),l.Jb(),l.Jb(),l.Kb(13,"ion-row"),l.Kb(14,"ion-col"),l.bc(15," \u05d0\u05e0\u05d9 \u05de\u05e6\u05d4\u05d9\u05e8 \u05db\u05d3\u05dc\u05d4\u05dc\u05df: "),l.Kb(16,"ion-row"),l.bc(17,"-\u05de\u05d3\u05d3\u05ea\u05d9 \u05d7\u05d5\u05dd \u05dc\u05d9\u05dc\u05d3\u05d9/\u05d9\u05dc\u05d3\u05ea\u05d9, \u05d5\u05e0\u05de\u05e6\u05d0 \u05db\u05d9 \u05d7\u05d5\u05dd \u05d2\u05d5\u05e4\u05d5/\u05d4 \u05de\u05ea\u05d7\u05ea \u05dc- 38 \u05de\u05e2\u05dc\u05d5\u05ea \u05e6\u05dc\u05d6\u05d9\u05d5\u05e1. "),l.Jb(),l.Kb(18,"ion-row"),l.bc(19,"-\u05d9\u05dc\u05d3\u05d9 / \u05d9\u05dc\u05d3\u05ea\u05d9 \u05dc\u05d0 \u05de\u05e9\u05ea\u05e2\u05dc \u05d5\u05d0\u05d9\u05df \u05dc\u05d5 \u05e7\u05e9\u05d9\u05d9\u05dd \u05d1\u05e0\u05e9\u05d9\u05de\u05d4*"),l.Jb(),l.Kb(20,"ion-row"),l.bc(21," -\u05dc\u05de\u05d9\u05d8\u05d1 \u05d9\u05d3\u05d9\u05e2\u05ea\u05d9 \u05d9\u05dc\u05d3\u05d9 \u05dc\u05d0 \u05d4\u05d9\u05d4 \u05d1\u05de\u05d2\u05e2 \u05e7\u05e8\u05d5\u05d1 \u05e2\u05dd \u05d7\u05d5\u05dc\u05d4\u05e7\u05d5\u05e8\u05d5\u05e0\u05d4 \u05d1\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd \u05d4\u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd. "),l.Jb(),l.Jb(),l.Jb(),l.Kb(22,"ion-row"),l.Kb(23,"ion-col"),l.Kb(24,"ion-item"),l.Kb(25,"ion-label"),l.bc(26,"\u05e9\u05dd \u05d4\u05d0\u05d7\u05e8\u05d0\u05d9/\u05d4\u05d5\u05e8\u05d4:"),l.Jb(),l.Ib(27,"ion-input"),l.Jb(),l.Jb(),l.Kb(28,"ion-col"),l.Kb(29,"ion-item"),l.Kb(30,"ion-label"),l.bc(31,"\u05ea.\u05d6:"),l.Jb(),l.Ib(32,"ion-input"),l.Jb(),l.Jb(),l.Jb(),l.Kb(33,"ion-row"),l.Kb(34,"ion-col"),l.Kb(35,"ion-item"),l.Kb(36,"ion-label"),l.bc(37,"\u05ea\u05d0\u05e8\u05d9\u05da:"),l.Jb(),l.Ib(38,"ion-input"),l.Jb(),l.Jb(),l.Jb(),l.Kb(39,"ion-row"),l.Kb(40,"ion-col"),l.Ib(41,"app-sig-pop"),l.Jb(),l.Kb(42,"ion-col"),l.Kb(43,"ion-button",3),l.bc(44,"\u05e9\u05dc\u05d7"),l.Jb(),l.Jb(),l.Jb(),l.Kb(45,"ion-col"),l.Kb(46,"ion-row"),l.bc(47," *\u05dc\u05de\u05e2\u05d8 \u05e9\u05d9\u05e2\u05d5\u05dc \u05d0\u05d5 \u05e7\u05d5\u05e9\u05d9 \u05d1\u05e0\u05e9\u05d9\u05de\u05d4 \u05d4\u05e0\u05d5\u05d1\u05e2 \u05de\u05de\u05e6\u05d1 \u05db\u05e8\u05d5\u05e0\u05d9 \u05db\u05d2\u05d5\u05df \u05d0\u05e1\u05d8\u05de\u05d4 \u05d0\u05d5 \u05d0\u05dc\u05e8\u05d2\u05d9\u05d4 \u05d0\u05d7\u05e8\u05ea. "),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&t&&l.Wb("formGroup",e.studentForm)},directives:[s.n,s.k,s.d,a.h,a.o,a.f,a.l,a.m,a.k,a.v,s.j,s.b,R,a.d],styles:[""]}),x),T=((K=function(){function t(e){r(this,t),this.userService=e}return u(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||K)(l.Hb(f.a))},K.\u0275cmp=l.Bb({type:K,selectors:[["app-form-employee"]],inputs:{employee:"employee"},decls:3,vars:0,template:function(t,e){1&t&&(l.Kb(0,"p"),l.bc(1," form-employee works!\n"),l.Jb(),l.Ib(2,"app-sig-pop"))},directives:[R],styles:[""]}),K);function _(t,e){if(1&t&&l.Ib(0,"app-form-student",6),2&t){var n=l.Tb();l.Wb("student",n.student)}}function W(t,e){if(1&t&&l.Ib(0,"app-form-employee",7),2&t){var n=l.Tb();l.Wb("employee",n.employee)}}var H,X,B,D=[{path:"",component:(H=function(){function t(e){r(this,t),this.userService=e,this.employee=this.userService.employee,this.student=this.userService.student}return u(t,[{key:"ngOnInit",value:function(){}}]),t}(),H.\u0275fac=function(t){return new(t||H)(l.Hb(f.a))},H.\u0275cmp=l.Bb({type:H,selectors:[["app-main-form"]],decls:9,vars:2,consts:[["color","primary"],[1,"ion-no-padding"],["slot","start"],["icon","arrow-forward","defaultHref","/home"],[3,"student",4,"ngIf"],[3,"employee",4,"ngIf"],[3,"student"],[3,"employee"]],template:function(t,e){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-title",1),l.bc(3,"\u05d4\u05e6\u05d4\u05e8\u05ea \u05d1\u05e8\u05d9\u05d0\u05d5\u05ea"),l.Jb(),l.Kb(4,"ion-buttons",2),l.Ib(5,"ion-back-button",3),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-content"),l.ac(7,_,1,1,"app-form-student",4),l.ac(8,W,1,1,"app-form-employee",5),l.Jb()),2&t&&(l.xb(7),l.Wb("ngIf",e.student),l.xb(1),l.Wb("ngIf",e.employee))},directives:[a.i,a.q,a.p,a.e,a.b,a.c,a.g,c.h,E,T],styles:[""]}),H)}],N=((B=function t(){r(this,t)}).\u0275mod=l.Fb({type:B}),B.\u0275inj=l.Eb({factory:function(t){return new(t||B)},imports:[[b.i.forChild(D)],b.i]}),B),V=((X=function t(){r(this,t)}).\u0275mod=l.Fb({type:X}),X.\u0275inj=l.Eb({factory:function(t){return new(t||X)},imports:[[c.b,s.e,a.r,N,s.m]]}),X)}}])}();