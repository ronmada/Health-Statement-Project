!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var c=o(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{ziUY:function(t,i,o){"use strict";o.r(i),o.d(i,"MainFormPageModule",(function(){return Y}));var c=o("ofXK"),u=o("3Pt+"),s=o("TEn/"),b=o("tyNb"),l=o("fXoL"),f=o("y+2E"),p=o("dHiT"),v=o("mrSG"),m=o("xgIS"),h=o("eIep"),d=o("zx2A");function g(e){return function(t){return t.lift(new y(e))}}var y=function(){function e(t){r(this,e),this.notifier=t}return a(e,[{key:"call",value:function(e,t){var n=new J(e),i=Object(d.c)(this.notifier,new d.a(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),J=function(t){e(o,t);var i=n(o);function o(e){var t;return r(this,o),(t=i.call(this,e)).seenValue=!1,t}return a(o,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),o}(d.b),K=o("7o/Q");function w(){return function(e){return e.lift(new F)}}var S,k,x,F=function(){function e(){r(this,e)}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new O(e))}}]),e}(),O=function(t){e(o,t);var i=n(o);function o(e){var t;return r(this,o),(t=i.call(this,e)).hasPrev=!1,t}return a(o,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),o}(K.a),C=((S=function(){function e(){r(this,e),this.signature=null}return a(e,[{key:"saveSignature",value:function(e){this.signature=e}},{key:"getSignature",value:function(){return this.signature}},{key:"clearSig",value:function(){this.signature=null}}]),e}()).\u0275fac=function(e){return new(e||S)},S.\u0275prov=l.Db({token:S,factory:S.\u0275fac,providedIn:"root"}),S),E=["canvas"],j=((x=function(){function e(t,n){r(this,e),this.signatureService=t,this.popoverController=n,this.checkFlag=!1}return a(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this.canvas.nativeElement;this.cx=t.getContext("2d"),t.width=this.width,t.height=this.height,setTimeout((function(){e.drawSavedSignatureOnCanvas()})),this.cx.lineWidth=2,this.cx.lineCap="round",this.cx.strokeStyle="black",this.captureEvents(t)}},{key:"saveSigAs64String",value:function(){var e=this.canvas.nativeElement.toDataURL("image/png",1);this.popoverController.dismiss(e)}},{key:"clearSig",value:function(){this.checkFlag=!1,this.signatureService.clearSig(),this.cx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)}},{key:"drawSavedSignatureOnCanvas",value:function(){var e=this.signatureService.getSignature();if(null!==e){this.checkFlag=!0;var t=this.cx,n=new Image;n.src=e,n.onload=function(){t.drawImage(n,0,0)}}}},{key:"captureEvents",value:function(e){var t=this;Object(m.a)(e,"mousedown").pipe(Object(h.a)((function(){return Object(m.a)(e,"mousemove").pipe(g(Object(m.a)(e,"mouseup")),g(Object(m.a)(e,"mouseleave")),w())}))).subscribe((function(n){var i=e.getBoundingClientRect();t.drawOnCanvas({x:n[0].clientX-i.left,y:n[0].clientY-i.top},{x:n[1].clientX-i.left,y:n[1].clientY-i.top})})),Object(m.a)(e,"touchstart").pipe(Object(h.a)((function(){return Object(m.a)(e,"touchmove").pipe(g(Object(m.a)(e,"touchend")),g(Object(m.a)(e,"touchcancel")),w())}))).subscribe((function(n){var i=e.getBoundingClientRect();t.drawOnCanvas({x:n[0].targetTouches[0].clientX-i.left,y:n[0].targetTouches[0].clientY-i.top},{x:n[1].targetTouches[0].clientX-i.left,y:n[1].targetTouches[0].clientY-i.top})}))}},{key:"drawOnCanvas",value:function(e,t){this.cx&&(this.cx.beginPath(),e&&(this.cx.moveTo(e.x,e.y),this.cx.lineTo(t.x,t.y),this.cx.stroke()),this.checkFlag=!0)}}]),e}()).\u0275fac=function(e){return new(e||x)(l.Hb(C),l.Hb(s.w))},x.\u0275cmp=l.Bb({type:x,selectors:[["app-signature"]],viewQuery:function(e,t){var n;1&e&&l.ec(E,!0),2&e&&l.Xb(n=l.Sb())&&(t.canvas=n.first)},inputs:{width:"width",height:"height"},decls:8,vars:2,consts:[["canvas",""],[1,"flex-class"],["color","danger",3,"disabled","click"],[3,"disabled","click"]],template:function(e,t){1&e&&(l.Kb(0,"ion-content"),l.Ib(1,"canvas",null,0),l.Kb(3,"div",1),l.Kb(4,"ion-button",2),l.Rb("click",(function(){return t.clearSig()})),l.bc(5," \u05e0\u05e7\u05d4 "),l.Jb(),l.Kb(6,"ion-button",3),l.Rb("click",(function(){return t.saveSigAs64String()})),l.bc(7," \u05e9\u05de\u05d5\u05e8 "),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.xb(4),l.Wb("disabled",!t.checkFlag),l.xb(2),l.Wb("disabled",!t.checkFlag))},directives:[s.g,s.d],styles:["canvas[_ngcontent-%COMP%]{background-color:#fff}.flex-class[_ngcontent-%COMP%]{display:flex;flex-direction:column}ion-content[_ngcontent-%COMP%]{--overflow:hidden}"]}),x),I=((k=function(){function e(t,n){r(this,e),this.signatureService=t,this.popoverController=n,this.savedSigEvent=new l.n,this.buttonColor="warning"}return a(e,[{key:"saveSig",value:function(e){this.savedSigEvent.emit(e)}},{key:"presentPopover",value:function(e){return Object(v.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:j,cssClass:"my-custom-class",event:e,translucent:!0,backdropDismiss:!1,componentProps:{width:250,height:204}});case 2:return(n=t.sent).onDidDismiss().then((function(e){void 0!==e.data&&(i.buttonColor="success",i.saveSig(e.data),i.signatureService.saveSignature(e.data))})),t.next=6,n.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||k)(l.Hb(C),l.Hb(s.w))},k.\u0275cmp=l.Bb({type:k,selectors:[["app-sig-pop"]],outputs:{savedSigEvent:"savedSigEvent"},decls:3,vars:1,consts:[[3,"color","click"]],template:function(e,t){1&e&&(l.Kb(0,"ion-content"),l.Kb(1,"ion-button",0),l.Rb("click",(function(e){return t.presentPopover(e)})),l.bc(2,"\u05d7\u05ea\u05d9\u05de\u05d4"),l.Jb(),l.Jb()),2&e&&(l.xb(1),l.Wb("color",t.buttonColor))},directives:[s.g,s.d],styles:[""]}),k);function R(e,t){if(1&e&&(l.Kb(0,"ion-select-option",9),l.bc(1),l.Jb()),2&e){var n=t.$implicit;l.Wb("value",n),l.xb(1),l.dc("",n.firstName," ",n.lastName,"")}}var P,_=((P=function(){function e(t,n){r(this,e),this.mainFormService=t,this.userService=n,this.studentForm=this.mainFormService.form,this.student=this.userService.user__}return a(e,[{key:"ngOnInit",value:function(){}},{key:"saveSig",value:function(e){this.studentForm.get("signature").setValue(e)}},{key:"submitStudentForm",value:function(){this.mainFormService.prepareFormForSubmit()}}]),e}()).\u0275fac=function(e){return new(e||P)(l.Hb(p.a),l.Hb(f.a))},P.\u0275cmp=l.Bb({type:P,selectors:[["app-form-student"]],decls:50,vars:3,consts:[[3,"formGroup","ngSubmit"],["disabled",""],["formControlName","name"],["formControlName","id"],["position","stacked"],["formControlName","guardian","interface","popover"],[3,"value",4,"ngFor","ngForOf"],[3,"savedSigEvent"],["type","submit"],[3,"value"]],template:function(e,t){1&e&&(l.Kb(0,"form",0),l.Rb("ngSubmit",(function(){return t.submitStudentForm()})),l.Kb(1,"ion-grid"),l.Kb(2,"ion-row"),l.Kb(3,"ion-col"),l.Kb(4,"ion-item",1),l.Kb(5,"ion-label"),l.bc(6,"\u05e9\u05dd:"),l.Jb(),l.Ib(7,"ion-input",2),l.Jb(),l.Jb(),l.Kb(8,"ion-col"),l.Kb(9,"ion-item",1),l.Kb(10,"ion-label"),l.bc(11,"\u05ea.\u05d6:"),l.Jb(),l.Ib(12,"ion-input",3),l.Jb(),l.Jb(),l.Jb(),l.Kb(13,"ion-row"),l.Kb(14,"ion-col"),l.bc(15," \u05d0\u05e0\u05d9 \u05de\u05e6\u05d4\u05d9\u05e8 \u05db\u05d3\u05dc\u05d4\u05dc\u05df: "),l.Kb(16,"ion-row"),l.bc(17,"-\u05de\u05d3\u05d3\u05ea\u05d9 \u05d7\u05d5\u05dd \u05dc\u05d9\u05dc\u05d3\u05d9/\u05d9\u05dc\u05d3\u05ea\u05d9, \u05d5\u05e0\u05de\u05e6\u05d0 \u05db\u05d9 \u05d7\u05d5\u05dd \u05d2\u05d5\u05e4\u05d5/\u05d4 \u05de\u05ea\u05d7\u05ea \u05dc- 38 \u05de\u05e2\u05dc\u05d5\u05ea \u05e6\u05dc\u05d6\u05d9\u05d5\u05e1. "),l.Jb(),l.Kb(18,"ion-row"),l.bc(19,"-\u05d9\u05dc\u05d3\u05d9 / \u05d9\u05dc\u05d3\u05ea\u05d9 \u05dc\u05d0 \u05de\u05e9\u05ea\u05e2\u05dc \u05d5\u05d0\u05d9\u05df \u05dc\u05d5 \u05e7\u05e9\u05d9\u05d9\u05dd \u05d1\u05e0\u05e9\u05d9\u05de\u05d4*"),l.Jb(),l.Kb(20,"ion-row"),l.bc(21," -\u05dc\u05de\u05d9\u05d8\u05d1 \u05d9\u05d3\u05d9\u05e2\u05ea\u05d9 \u05d9\u05dc\u05d3\u05d9 \u05dc\u05d0 \u05d4\u05d9\u05d4 \u05d1\u05de\u05d2\u05e2 \u05e7\u05e8\u05d5\u05d1 \u05e2\u05dd \u05d7\u05d5\u05dc\u05d4 \u05e7\u05d5\u05e8\u05d5\u05e0\u05d4 \u05d1\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd \u05d4\u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd. "),l.Jb(),l.Jb(),l.Jb(),l.Kb(22,"ion-row"),l.Kb(23,"ion-col"),l.Kb(24,"ion-item"),l.Kb(25,"ion-label",4),l.bc(26,"\u05e9\u05dd \u05d4\u05d4\u05d5\u05e8\u05d4:"),l.Jb(),l.Kb(27,"ion-select",5),l.ac(28,R,2,3,"ion-select-option",6),l.Jb(),l.Jb(),l.Jb(),l.Kb(29,"ion-col"),l.Kb(30,"ion-item",1),l.Kb(31,"ion-label",4),l.bc(32,"\u05ea.\u05d6:"),l.Jb(),l.Kb(33,"ion-input"),l.bc(34),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(35,"ion-row"),l.Kb(36,"ion-col"),l.Kb(37,"ion-item"),l.Kb(38,"ion-label",4),l.bc(39,"\u05ea\u05d0\u05e8\u05d9\u05da:"),l.Jb(),l.Ib(40,"ion-input"),l.Jb(),l.Jb(),l.Jb(),l.Kb(41,"ion-row"),l.Kb(42,"ion-col"),l.Kb(43,"app-sig-pop",7),l.Rb("savedSigEvent",(function(e){return t.saveSig(e)})),l.Jb(),l.Jb(),l.Kb(44,"ion-col"),l.Kb(45,"ion-button",8),l.bc(46,"\u05e9\u05dc\u05d7"),l.Jb(),l.Jb(),l.Jb(),l.Kb(47,"ion-col"),l.Kb(48,"ion-row"),l.bc(49," *\u05dc\u05de\u05e2\u05d8 \u05e9\u05d9\u05e2\u05d5\u05dc \u05d0\u05d5 \u05e7\u05d5\u05e9\u05d9 \u05d1\u05e0\u05e9\u05d9\u05de\u05d4 \u05d4\u05e0\u05d5\u05d1\u05e2 \u05de\u05de\u05e6\u05d1 \u05db\u05e8\u05d5\u05e0\u05d9 \u05db\u05d2\u05d5\u05df \u05d0\u05e1\u05d8\u05de\u05d4 \u05d0\u05d5 \u05d0\u05dc\u05e8\u05d2\u05d9\u05d4 \u05d0\u05d7\u05e8\u05ea. "),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.Wb("formGroup",t.studentForm),l.xb(28),l.Wb("ngForOf",t.student.guardian),l.xb(6),l.cc(t.studentForm.get("guardian").value.id))},directives:[u.n,u.k,u.d,s.h,s.o,s.f,s.l,s.m,s.k,s.y,u.j,u.b,s.p,s.x,c.h,I,s.d,s.q],styles:[""]}),P);function T(e,t){if(1&e&&(l.Kb(0,"ion-select-option",9),l.bc(1),l.Jb()),2&e){var n=t.$implicit;l.Wb("value",n),l.xb(1),l.cc(n.name)}}var W,H=((W=function(){function e(t,n){r(this,e),this.mainFormService=t,this.userService=n,this.employeeForm=this.mainFormService.form,this.employee=this.userService.user__}return a(e,[{key:"ngOnInit",value:function(){}},{key:"saveSig",value:function(e){this.employeeForm.get("signature").setValue(e)}},{key:"submitEmployeeForm",value:function(){this.mainFormService.prepareFormForSubmit()}}]),e}()).\u0275fac=function(e){return new(e||W)(l.Hb(p.a),l.Hb(f.a))},W.\u0275cmp=l.Bb({type:W,selectors:[["app-form-employee"]],decls:44,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","id"],["formControlName","name"],["position","stacked"],["formControlName","institute","interface","popover"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],[3,"savedSigEvent"],["type","submit"],[3,"value"]],template:function(e,t){1&e&&(l.Kb(0,"form",0),l.Rb("ngSubmit",(function(){return t.submitEmployeeForm()})),l.Kb(1,"ion-grid"),l.Kb(2,"ion-row"),l.Kb(3,"ion-col"),l.Kb(4,"ion-item"),l.Kb(5,"ion-label"),l.bc(6,"\u05ea.\u05d6:"),l.Jb(),l.Ib(7,"ion-input",1),l.Jb(),l.Jb(),l.Kb(8,"ion-col"),l.Kb(9,"ion-item"),l.Kb(10,"ion-label"),l.bc(11,"\u05e9\u05dd:"),l.Jb(),l.Ib(12,"ion-input",2),l.Jb(),l.Jb(),l.Jb(),l.Kb(13,"ion-row"),l.Kb(14,"ion-col"),l.Kb(15,"ion-item"),l.Kb(16,"ion-label",3),l.bc(17,"\u05de\u05e7\u05d5\u05dd \u05e2\u05d1\u05d5\u05d3\u05d4:"),l.Jb(),l.Kb(18,"ion-select",4),l.ac(19,T,2,2,"ion-select-option",5),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(20,"ion-row"),l.Kb(21,"ion-col"),l.bc(22," \u05d0\u05e0\u05d9 \u05de\u05e6\u05d4\u05d9\u05e8 \u05db\u05d9: "),l.Kb(23,"ion-row"),l.bc(24," 1. \u05de\u05d3\u05d3\u05ea\u05d9 \u05d7\u05d5\u05dd \u05d1\u05d1\u05d5\u05e7\u05e8, \u05d5\u05dc\u05d0 \u05d4\u05d9\u05d4 \u05dc\u05d9 \u05d7\u05d5\u05dd \u05de\u05e2\u05dc 38."),l.Jb(),l.Kb(25,"ion-row"),l.bc(26,"2. \u05d0\u05d9\u05df \u05dc\u05d9 \u05ea\u05e1\u05de\u05d9\u05e0\u05d9 \u05e7\u05d5\u05e8\u05d5\u05e0\u05d4 (\u05e9\u05d9\u05e2\u05d5\u05dc,\u05e7\u05d5\u05e9\u05d9 \u05d1\u05e0\u05e9\u05d9\u05de\u05d4* \u05d0\u05d5 \u05db\u05dc \u05ea\u05e1\u05de\u05d9\u05df \u05e0\u05e9\u05d9\u05de\u05ea\u05d9 \u05d0\u05d7\u05e8)."),l.Jb(),l.Kb(27,"ion-row"),l.bc(28," 3. \u05dc\u05d0 \u05d4\u05d9\u05d9\u05ea\u05d9 \u05d1\u05de\u05d2\u05e2 \u05e7\u05e8\u05d5\u05d1 \u05e2\u05dd \u05d7\u05d5\u05dc\u05d4 \u05e7\u05d5\u05e8\u05d5\u05e0\u05d4 \u05d1\u05e9\u05d1\u05d5\u05e2\u05d9\u05d9\u05dd \u05d4\u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd. "),l.Jb(),l.Jb(),l.Jb(),l.Kb(29,"ion-row"),l.Kb(30,"ion-col"),l.Kb(31,"ion-item"),l.Kb(32,"ion-label",6),l.bc(33,"\u05ea\u05d0\u05e8\u05d9\u05da:"),l.Jb(),l.Ib(34,"ion-input"),l.Jb(),l.Jb(),l.Jb(),l.Kb(35,"ion-row"),l.Kb(36,"ion-col"),l.Kb(37,"app-sig-pop",7),l.Rb("savedSigEvent",(function(e){return t.saveSig(e)})),l.Jb(),l.Jb(),l.Kb(38,"ion-col"),l.Kb(39,"ion-button",8),l.bc(40,"\u05e9\u05dc\u05d7"),l.Jb(),l.Jb(),l.Jb(),l.Kb(41,"ion-col"),l.Kb(42,"ion-row"),l.bc(43," *\u05dc\u05de\u05e2\u05d8 \u05e9\u05d9\u05e2\u05d5\u05dc \u05d0\u05d5 \u05e7\u05d5\u05e9\u05d9 \u05d1\u05e0\u05e9\u05d9\u05de\u05d4 \u05d4\u05e0\u05d5\u05d1\u05e2 \u05de\u05de\u05e6\u05d1 \u05db\u05e8\u05d5\u05e0\u05d9 \u05db\u05d2\u05d5\u05df \u05d0\u05e1\u05d8\u05de\u05d4 \u05d0\u05d5 \u05d0\u05dc\u05e8\u05d2\u05d9\u05d4 \u05d0\u05d7\u05e8\u05ea. "),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.Wb("formGroup",t.employeeForm),l.xb(19),l.Wb("ngForOf",t.employee.institute))},directives:[u.n,u.k,u.d,s.h,s.o,s.f,s.l,s.m,s.k,s.y,u.j,u.b,s.p,s.x,c.h,I,s.d,s.q],styles:[""]}),W);function N(e,t){1&e&&l.Ib(0,"app-form-student")}function B(e,t){1&e&&l.Ib(0,"app-form-employee")}var D,X,V,G=[{path:"",component:(D=function e(t){r(this,e),this.userService=t,this.user=this.userService.user__},D.\u0275fac=function(e){return new(e||D)(l.Hb(f.a))},D.\u0275cmp=l.Bb({type:D,selectors:[["app-main-form"]],decls:9,vars:2,consts:[["color","primary"],[1,"ion-no-padding"],["slot","start"],["icon","arrow-forward","defaultHref","/home"],[4,"ngIf"]],template:function(e,t){1&e&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-title",1),l.bc(3,"\u05d4\u05e6\u05d4\u05e8\u05ea \u05d1\u05e8\u05d9\u05d0\u05d5\u05ea"),l.Jb(),l.Kb(4,"ion-buttons",2),l.Ib(5,"ion-back-button",3),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-content"),l.ac(7,N,1,0,"app-form-student",4),l.ac(8,B,1,0,"app-form-employee",4),l.Jb()),2&e&&(l.xb(7),l.Wb("ngIf","Student"===t.user.userType),l.xb(1),l.Wb("ngIf","Employee"===t.user.userType))},directives:[s.i,s.s,s.r,s.e,s.b,s.c,s.g,c.i,_,H],styles:[""]}),D)}],M=((V=function e(){r(this,e)}).\u0275mod=l.Fb({type:V}),V.\u0275inj=l.Eb({factory:function(e){return new(e||V)},imports:[[b.i.forChild(G)],b.i]}),V),Y=((X=function e(){r(this,e)}).\u0275mod=l.Fb({type:X}),X.\u0275inj=l.Eb({factory:function(e){return new(e||X)},imports:[[c.b,u.e,s.t,M,u.m]]}),X)}}])}();